<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="html_renderer/shower/themes/ribbon/styles/screen-16x10.css">
    <link rel="stylesheet" href="html_renderer/highlight/github_color_scheme.css">
    <style>
        li {
            font-size: 32px;
        }
    </style>
</head>
<body class="shower list">

<header class="caption">
    <h1>Фогстрим лекцции</h1>
    <p>Функции</p>
</header>

<h1>Django ORM</h1>
<section class="slide"><h2>Django ORM и модели</h2>
</section>
<section class="slide"><h2>Что такое ORM?</h2>
    <p style="text-align: center"><img src="./images/orm.png" alt="orm"></p>
</section>
<section class="slide"><h2>Что такое ORM?</h2>
    <ul>
        <li>ORM - Object-relational mapping</li>
    </ul>
</section>
<section class="slide"><h2>Что такое ORM?</h2>
    <ul>
        <li>ORM - Объектно-реляционное отображение</li>
    </ul>
</section>
<section class="slide"><h2>Что такое ORM?</h2>
    <ul>
        <li>ORM - технология программирования, которая связывает базы данных с концепциями
            объектно-ориентированных языков программирования.
        </li>
    </ul>
</section>
<section class="slide"><h2>Что такое ORM?</h2>
    <ul>
        <li>ORM - прослойка между базой данных и кодом который пишет программист,
            которая позволяет созданые в программе объекты складывать/получать в/из бд.
        </li>
    </ul>
</section>
<section class="slide"><h2>Парадигма «несоответствия»</h2>
    <ul>
        <li>Объектные и реляционные модели не очень хорошо работают вместе.</li>
    </ul>
</section>
<section class="slide"><h2>Принцип работы ORM</h2>
    <ul>
        <li>Ключевой особенностью ORM является отображение,
            которое используется для привязки объекта к его данным в БД.
        </li>
    </ul>
</section>
<section class="slide"><h2>Принцип работы ORM</h2>
    <ul>
        <li>ORM как бы создает «виртуальную» схему базы данных в памяти и
            позволяет манипулировать данными уже на уровне объектов.
        </li>
    </ul>
</section>
<section class="slide"><h2>Преимущества ORM</h2>
    <ul>
        <li>нет необходимости в написании SQL</li>
    </ul>
</section>
<section class="slide"><h2>Преимущества ORM</h2>
    <ul>
        <li>нет необходимости в написании SQL (в идеале)</li>
    </ul>
</section>
<section class="slide"><h2>Преимущества ORM</h2>
    <ul>
        <li>нет необходимости в написании SQL (в идеале)</li>
        <li>генерируемый код ORM оптимизирован</li>
    </ul>
</section>
<section class="slide"><h2>Преимущества ORM</h2>
    <ul>
        <li>нет необходимости в написании SQL (в идеале)</li>
        <li>генерируемый код ORM оптимизирован</li>
    </ul>
</section>
<section class="slide"><h2>Преимущества ORM</h2>
    <ul>
        <li>нет необходимости в написании SQL (в идеале)</li>
        <li>генерируемый код ORM оптимизирован</li>
        <li>быстрое написание запросов</li>
    </ul>
</section>
<section class="slide"><h2>НО!</h2>
    <ul>
        <li>ORM - не серебрянная пуля</li>
    </ul>
</section>
<section class="slide"><h2>Недостатки ORM</h2>
    <ul>
        <li>потеря производительности</li>
    </ul>
</section>
<section class="slide"><h2>ORM или не-ORM?</h2>
</section>
<section class="slide"><h2>ORM или не-ORM?</h2>
    <ul>
        <li>все зависит от задачи =)</li>
    </ul>
</section>
<section class="slide"><h2>Модели</h2>
    <ul>
        <li>отображают информацию о данных</li>
        <li>содержат поля</li>
        <li>поведение данных</li>
    </ul>
</section>
<section class="slide"><h2>Модели</h2>
    <ul>
        <li>каждая модель это класс унаследованный от <code>django.db.models.Model.</code></li>
    </ul>
</section>
<section class="slide"><h2>Модели</h2>
    <ul>
        <li>каждая модель это класс унаследованный от <code>django.db.models.Model.</code></li>
        <li>атрибут модели представляет поле в базе данных.</li>
    </ul>
</section>
<section class="slide"><h2>Модели</h2>
    <ul>
        <li>каждая модель это класс унаследованный от <code>django.db.models.Model.</code></li>
        <li>атрибут модели представляет поле в базе данных.</li>
        <li>Django предоставляет автоматически созданное API для доступа к данным.</li>
    </ul>
</section>
<section class="slide"><h2>Пример из документации</h2>
    <pre style="font-size: 32px"><code class="lang-python">from django.db import models

class Person(models.Model):
    first_name = models.CharField(max_length=30)
    last_name = models.CharField(max_length=30)
</code></pre>
</section>
<section class="slide"><h2>Пример из документации</h2>
    <pre style="font-size: 32px"><code>CREATE TABLE myapp_person (
    "id" serial NOT NULL PRIMARY KEY,
    "first_name" varchar(30) NOT NULL,
    "last_name" varchar(30) NOT NULL
);
</code></pre>
</section>
<section class="slide"><h2>Содержание модели</h2>
    <ul>
        <li>поля</li>
    </ul>
</section>
<section class="slide"><h2>Содержание модели</h2>
    <ul>
        <li>поля</li>
        <li>методы модели</li>
    </ul>
</section>
<section class="slide"><h2>Содержание модели</h2>
    <ul>
        <li>поля</li>
        <li>методы модели</li>
        <li>метаданные</li>
    </ul>
</section>
<section class="slide"><h2>Содержание модели</h2>
    <ul>
        <li>поля</li>
        <li>методы модели</li>
        <li>метаданные</li>
        <li>менеджеры модели</li>
    </ul>
</section>
<section class="slide"><h2>Содержание модели</h2>
    <ul>
        <li>поля (атрибуты класса)</li>
        <li>методы модели (методы экземпляра)</li>
        <li>метаданные</li>
        <li>менеджеры модели (методы класса)</li>
    </ul>
</section>
<section class="slide"><h2>Связь моделей</h2>
    <ul>
        <li>OneToOne</li>
        <li>OneToMany</li>
        <li>ManyToMany</li>
    </ul>
</section>
<section class="slide"><h2>Наследование моделей</h2>
    <ul>
        <li>абстрактная модель</li>
    </ul>
</section>
<section class="slide"><h2>Наследование моделей</h2>
    <ul>
        <li>абстрактная модель</li>
        <li>Multi-table наследование</li>
    </ul>
</section>
<section class="slide"><h2>Наследование моделей</h2>
    <ul>
        <li>Абстрактная модель</li>
        <li>Multi-table наследование</li>
        <li>Proxy-модели</li>
    </ul>
</section>
<section class="slide"><h2>Миграции</h2>
    <p  style="font-size: 32px">Миграции - перенос изменений из модели на структуру БД</p>
</section>
<section class="slide"><h2>Миграции</h2>
    <p style="font-size: 32px">Миграции - система контроля версий для БД</p>
</section>
<section class="slide"><h2>Команды</h2>
    <ul>
        <li><code>makemigrations</code></li>
    </ul>
</section>
<section class="slide"><h2>Команды</h2>
    <ul>
        <li><code>makemigrations</code></li>
        <li><code>migrate</code></li>
    </ul>
</section>
<section class="slide"><h2>Команды</h2>
    <ul>
        <li><code>makemigrations</code></li>
        <li><code>migrate</code></li>
        <li><code>sqlmigration</code></li>
    </ul>
</section>
<section class="slide"><h2>Запросы</h2>
    <p style="font-size: 32px">Результаты выборки объектов из БД - <code>QuerySet</code></p>
</section>
<section class="slide"><h2>QuerySet</h2>
    <p style="font-size: 32px">В терминах SQL, <code>QuerySet</code> - это оператор SELECT,
        а фильтры - условия такие, как WHERE или LIMIT.</p>
</section>
<section class="slide"><h2>Важно</h2>
    <ul>
        <li>QuerySet получается в результате использования Manager'a</li>
        <li>Отфильтрованный QuerySet – уникален</li>
        <li>QuerySets – ленивы</li>
    </ul>
</section>
<section class="slide"><h2>Практикуем</h2>
</section>
<section class="slide"></section>

<div class="progress"></div>

<script src="html_renderer/shower/shower.min.js"></script>
<script src="html_renderer/highlight/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- Copyright © 2017 Yours Truly, Famous Inc. -->

</body>
</html>

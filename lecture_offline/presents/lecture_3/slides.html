<!DOCTYPE html>
<html lang="en">
<head>
    <title>Shower Presentation Engine</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="html_renderer/shower/themes/ribbon/styles/screen-16x10.css">
    <link rel="stylesheet" href="html_renderer/highlight/github_color_scheme.css">
    <style>
        li {
            font-size: 32px;
        }

        .big {
            font-size: 24px;
        }

        .large {
            font-size: 32px;
        }

        .centring {
            margin-top: 7rem;
        }
    </style>
</head>
<body class="shower list">

<header class="caption">
    <h1>Фогстрим лекцции</h1>
    <p>Функции</p>
</header>

<h1>Лекция 3</h1>
<section class="slide"><h2>Лекция 3</h2></section>

<section class="slide"><h2>Как мы делали</h2>
    <pre class="large centring"><code class="lang-Python">lst = input().split()
</code></pre>
</section>

<section class="slide"><h2>Как мы делали</h2>
    <pre class="large centring"><code class="lang-Python">lst = input().split() # =(((
</code></pre>
</section>
<section class="slide"><h2>Что спасет нас?!</h2>
    <p style="text-align: center"><img src="./images/supermen.png"  alt="Спаситель"></p>
</section>
<section class="slide"><h2>Файлы</h2>
</section>

<section class="slide"><h2>Файлы</h2>
    <p class="large centring">Тестовые и бинарные файлы в Python - две большие разницы</p>
</section>

<section class="slide"><h2>Файлы</h2>
    <p class="large centring">Чтобы создать файл, воспользуемся оператором <code>open</code>.</p>
</section>
<section class="slide"><h2>Файлы</h2>
    <pre class="large centring"><code class="lang-Python">open(&#39;../examples/example1&#39;)
</code></pre>
</section>
<section class="slide"><h2>Файлы</h2>
    <pre class="large centring"><code class="lang-Python"> # Один обязательный аргумент - путь до файла
open(&#39;./examples/example1&#39;)
</code></pre>
</section>
<section class="slide"><h2>Файлы</h2>
    <pre class="big centring"><code class="lang-Python"> # Один обязательный аргумент - путь до файла
open(&#39;./examples/example1&#39;)
# &lt;_io.TextIOWrapper name=&#39;./examples/example1&#39;
        # mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;
</code></pre>
</section>
<section class="slide"><h2>Аргументы функции open</h2>
</section>
<section class="slide"><h2>Аргументы функции open</h2>
    <ul>
        <li>mode - определяет режим, в котором будет открыт файл</li>
    </ul>
</section>
<section class="slide"><h2>Аргументы функции open</h2>
    <ul>
        <li>mode - определяет режим, в котором будет открыт файл</li>
        <li><code>r</code>, <code>w</code>, <code>a</code>, <code>+</code></li>
        <li><code>b</code>, <code>t</code></li>
    </ul>
</section>
<section class="slide"><h2>Аргументы функции open</h2>
    <ul>
        <li>mode - определяет режим, в котором будет открыт файл</li>
        <li>для тестовых файлов можно указать <code>encoding</code> и <code>errors</code>.</li>
    </ul>
</section>
<section class="slide"><h2>Операции с файлами</h2>
    <p class="large centring">Открыть бинарный файл для чтения:</p>
    <pre class="large"><code class="lang-Python">open(&#39;./examples/csc.db&#39;, &#39;r+b&#39;)
</code></pre>
</section>
<section class="slide"><h2>Операции с файлами</h2>
    <p class="large centring">Открыть бинарный файл для чтения:</p>
    <pre class="large"><code class="lang-Python">open(&#39;./examples/csc.db&#39;, &#39;r+b&#39;)
# &lt;_io.BufferedRandom name=&#39;./csc.db&#39;&gt;
</code></pre>
</section>
<section class="slide"><h2>Операции с файлами</h2>
    <p class="large centring">Открыть текстовый файл в кодировке 'cp1251' для добавления, игнорируя ошибки:</p>
    <pre class="big" "><code class="lang-Python">open(&#39;./examples/example1&#39;, &#39;a&#39;,
        encoding=&#39;cp1251&#39;, errors=&#39;ignore&#39;)
</code></pre>
</section>
<section class="slide"><h2>Операции с файлами</h2>
    <p class="large centring">Открыть текстовый файл в кодировке 'cp1251' для добавления, игнорируя ошибки:</p>
    <pre class="big"><code class="lang-Python">open(&#39;./examples/example1&#39;, &#39;a&#39;,
        encoding=&#39;cp1251&#39;, errors=&#39;ignore&#39;)
# &lt;[...] name=&#39;./example1&#39;
        #mode=&#39;a&#39; encoding=&#39;cp1251&#39;&gt;
</code></pre>
</section>
<section class="slide"><h2>Операции с файлами</h2>
    <p class="large">Создать новый текстовый файл в системной кодировке и
        открыть его для записи:</p>
    <pre class="big"><code class="lang-Python">open(&quot;./lecture4.tex&quot;, &quot;w&quot;)
# &lt;[...] name=&#39;./lecture4.tex&#39; mode=&#39;x&#39; encoding=&#39;UTF-8&#39;&gt;
</code></pre>
</section>
<section class="slide"><h2>Атрибуты файлового объекта</h2>
    <pre class="big centring"><code class="lang-Python">my_file = open(&quot;some.txt&quot;, &quot;w&quot;)

print(&quot;Имя файла: &quot;, my_file.name)
print(&quot;Файл закрыт: &quot;, my_file.closed)
print(&quot;В каком режиме файл открыт: &quot;, my_file.mode)
</code></pre>
</section>
<section class="slide"><h2>Атрибуты файлового объекта</h2>
    <pre class="big centring"><code class="lang-Python">my_file = open(&quot;some.txt&quot;, &quot;w&quot;)

print(&quot;Имя файла: &quot;, my_file.name) # &#39;some.txt&#39;
print(&quot;Файл закрыт: &quot;, my_file.closed) # False
print(&quot;В каком режиме файл открыт: &quot;, my_file.mode) # &#39;w&#39;
</code></pre>
</section>
<section class="slide"><h2>Закрытие файла</h2>
    <pre class="large centring"><code class="lang-Python">my_file.closed
</code></pre>
</section>
<section class="slide"><h2>Закрытие файла</h2>
    <pre class="large centring"><code class="lang-Python">my_file.closed # False
</code></pre>
</section>
<section class="slide"><h2>Закрытие файла</h2>
    <pre class="large centring"><code class="lang-Python">my_file.close()

my_file.closed # True
</code></pre>
</section>
<section class="slide"><h2>Закрытие файла</h2>
    <p class="large centring">Изменения в самом файле произойдут только после его закрытия!</p>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

my_file.read(4)
</code></pre>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

my_file.read(4) # &#39;Hey!&#39;
</code></pre>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

# Читаем строку
my_file.readline()
</code></pre>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

# Читаем строку
my_file.readline() # &#39;Hey! What&#39;s up?!&#39;
</code></pre>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

# Читаем строки
my_file.readlines()
</code></pre>
</section>
<section class="slide"><h2>Чтение файлов</h2>
    <pre class="large centring"><code class="lang-Python">my_file = open(&#39;./examples/example1&#39;, &#39;r&#39;)

# Читаем строки
my_file.readlines()
 #[&quot;Hey! What&#39;s up?!\n&quot;, &#39;\n&#39;,
        #&#39;Hey! Hey! What do you say?!\n&#39;]
</code></pre>
</section>
<section class="slide"><h2>Запись в файл</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example2&#39;. &#39;w&#39;)

handle.write(&#39;habrahabr&#39;)
</code></pre>
</section>
<section class="slide"><h2>Запись в файл</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example2&#39;. &#39;w&#39;)

handle.write(&#39;habrahabr&#39;)
# ???
</code></pre>
</section>
<section class="slide"><h2>Запись в файл</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example2&#39;. &#39;w&#39;)

handle.write(&#39;habrahabr&#39;)
# 9
</code></pre>
</section>
<section class="slide"><h2>Запись в файл</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example2&#39;. &#39;w&#39;)

handle.writelines([&#39;habrahabr&#39;, &#39;super good&#39;])
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example3&#39;, &#39;w&#39;)

handle.tell()
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle = open(&#39;./examples/example3&#39;, &#39;w&#39;)

handle.tell() # 0
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle.seek(8)

handle.tell()
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle.seek(8)

handle.tell() # 8
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle.write(&#39;abc&#39;)

handle.tell() # ???
</code></pre>
</section>
<section class="slide"><h2>Полезные методы работы с файлами</h2>
    <pre class="large centring"><code class="lang-Python">handle.write(&#39;abc&#39;)

handle.tell() # 11
</code></pre>
</section>
<section class="slide"><h2>Потоки ввода/вывода</h2>
</section>
<section class="slide"><h2>Потоки ввода/вывода</h2>
    <ul>
        <li><code>sys.stdin</code></li>
    </ul>
</section>
<section class="slide"><h2>Потоки ввода/вывода</h2>
    <ul>
        <li><code>sys.stdin</code></li>
    </ul>
    <pre class="large"><code class="lang-Python">input()
</code></pre>
</section>
<section class="slide"><h2>Потоки ввода/вывода</h2>
    <ul>
        <li><code>sys.stdout</code></li>
    </ul>
</section>
<section class="slide"><h2>Потоки ввода/вывода</h2>
    <ul>
        <li><code>sys.stdout</code> и <code>sys.stderr</code></li>
    </ul>
    <pre class="large"><code class="lang-Python">print()
</code></pre>
</section>
<section class="slide"><h2>Еще о функции <code>print</code></h2>
    <pre class="large centring"><code class="lang-Python">print(&#39;abc&#39;, file=handle)
</code></pre>
</section>
<section class="slide"><h2>Библиотека io</h2>
    <pre class="large"><code class="lang-Python">import io
handle = io.StringIO(&quot;foo\n\bar&quot;)
handle.readline() #&#39;foo\n&#39;

handle.write(&quot;boo&quot;)
handle.getvalue() # &#39;foo\nboo&#39;
</code></pre>
</section>
<section class="slide"><h2>C файлами все!</h2>
    <p class="centring" style="text-align: center; font-size: 10rem">Ура!</p>
</section>
<section class="slide"><h2>Анекдот</h2>
    <p><img src="./images/petro.jpg" alt="Петросян"></p>
</section>
<section class="slide"><h2>Анекдот</h2>
    <p class="large">заходит как-то тестировщик в бар</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заходит как-то тестировщик в бар</p>
    <p class="large">забегает в бар</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заходит как-то тестировщик в бар</p>
    <p class="large">забегает в бар</p>
    <p class="large">пролезает в бар</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заходит как-то тестировщик в бар</p>
    <p class="large">забегает в бар</p>
    <p class="large">пролезает в бар</p>
    <p class="large">прыгает в бар</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заказывает себе кружку пива</p>
</section>


<section class="slide"><h2>Анекдот</h2>
    <p class="large">заказывает себе кружку пива</p>
    <p class="large">два кружки пива</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заказывает себе кружку пива</p>
    <p class="large">два кружки пива</p>
    <p class="large">-1 кружку пива</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заказывает себе кружку пива</p>
    <p class="large">два кружки пива</p>
    <p class="large">-1 кружку пива</p>
    <p class="large">9999999 кружек пива</p>
</section>

<section class="slide"><h2>Анекдот</h2>
    <p class="large">заказывает себе кружку пива</p>
    <p class="large">два кружки пива</p>
    <p class="large">-1 кружку пива</p>
    <p class="large">9999999 кружек пива</p>
    <p class="large">ававав кружек пива</p>
</section>


<section class="slide"><h2>К чему анекдот?</h2>
    <pre class="large centring"><code class="lang-Python">number = int(input())
</code></pre>
</section>

<section class="slide"><h2>К чему анекдот?</h2>
    <pre class="large centring"><code class="lang-Python">number = int(input(&#39;abc&#39;))
# ???
</code></pre>
</section>
<section class="slide"><h2>К чему анекдот?</h2>
    <pre class="big centring"><code class="lang-Python">number = int(input(&#39;abc&#39;))

# ValueError: invalid literal for int() with base 10: &#39;&#39;
</code></pre>
</section>
<section class="slide"><h2>Исключения</h2>
</section>
<section class="slide"><h2>Исключения</h2>
    <p><img src="./images/exceptions.png" alt="Exceptions"></p>
</section>
<section class="slide"><h2>Исключения</h2>
    <pre class="large centring"><code class="lang-Python">try:
  number = int(input(&#39;abc&#39;))
except ValueError:
  print (&#39;Пожалуйста, не ломай мой код!'\
        'Введи число&#39;)
</code></pre>
</section>
<section class="slide"><h2>Исключения</h2>
    <pre class="large centring"><code class="lang-Python">try:
  # какой-то код
except Excetion:
  # как-то обрабатываем
</code></pre>
</section>
<section class="slide"><h2>Исключения</h2>
    <pre class="large centring"><code class="lang-Python">try:
  # какой-то код
except Excetion: # =((((
  # как-то обрабатываем
</code></pre>
</section>
<section class="slide"><h2>НИКОГДА ТАК НЕ ДЕЛАЙТЕ</h2>
    <pre class="large centring"><code class="lang-Python">try:
  # какой-то код
except Excetion: # =((((
  # как-то обрабатываем
</code></pre>
</section>
<section class="slide"><h2>Почему?</h2>
</section>
<section class="slide"><h2>Почему?</h2>
    <p class="large centring" style="text-align: center">Сейчас Егор расскажет анекдот</p>
</section>
<section class="slide"><h2>Что еще делать с исключениями?</h2>
    <pre  class="large centring"><code class="lang-Python">try:
  vk_client.get_friends(online=true)
except Exception as exception:
  print (&#39;Что-то страшное случилось,'\
        'вот проблема: {e}&#39;.format(e=exception))
</code></pre>
</section>
<section class="slide"><h2>Цепочки исключений</h2>
    <pre class="big"><code class="lang-Python">try:
  # тут что-то происходит
except ValueError:
  # как-то обрабатываем
except KeyError:
  # как-то обрабатываем
...
finally:
  # так называемый &quot;Код уборки&quot;
</code></pre>
</section>
<section class="slide"><h2>Полезные советы</h2>
</section>
<section class="slide"><h2>Полезные советы</h2>
    <ul>
        <li>покрывайте только небольшие участки кода</li>
    </ul>
</section>
<section class="slide"><h2>Полезные советы</h2>
    <ul>
        <li>покрывайте только небольшие участки кода</li>
        <li>не перехватывайте общие исключения</li>
    </ul>
</section>
<section class="slide"><h2>Полезные советы</h2>
    <ul>
        <li>покрывайте только небольшие участки кода</li>
        <li>не перехватывайте общие исключения</li>
        <li>можно выкидывать свои исключения</li>
    </ul>
</section>
<section class="slide"><h2>Полезные советы</h2>
    <ul>
        <li>покрывайте только небольшие участки кода</li>
        <li>не перехватывайте общие исключения</li>
        <li>можно выкидывать свои исключения</li>
    </ul>
    <pre class="big"><code class="lang-Python">class MyException(Exception): pass

raise MyException(&#39;Мое исключение&#39;)
</code></pre>
</section>
<section class="slide"><h2>Полезные советы</h2>
    <ul>
        <li>покрывайте только небольшие участки кода</li>
        <li>не перехватывайте общие исключения</li>
        <li>можно выкидывать свои исключения</li>
        <li>???</li>
        <li>PROFIT</li>
    </ul>
</section>
<section class="slide"><h2>Оператор with</h2>
    <p class="large centring">Порой мы забываем закрыть файл</p>
</section>
<section class="slide"><h2>Оператор with</h2>
    <p class="large centring">Порой мы забываем закрыть файл</p>
    <p class="large">Все мы люди</p>
</section>
<section class="slide"><h2>Оператор with</h2>
    <pre class="centring" style="font-size: 20px"><code class="lang-Python">&quot;with&quot; expression [&quot;as&quot; target] (&quot;,&quot; expression [&quot;as&quot; target])* &quot;:&quot;
    suite
</code></pre>
</section>
<section class="slide"><h2>Удобно работать с файлами</h2>
    <pre class="big centring"><code class="lang-Python">with open(&#39;newfile.txt&#39;, &#39;w&#39;, encoding=&#39;utf-8&#39;) as g:
    d = int(input())
    print(&#39;1 / {} = {}&#39;
        .format(d, 1 / d), file=g)
</code></pre>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
    <ul>
        <li>правильно работает</li>
    </ul>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
    <ul>
        <li>правильно работает</li>
        <li>безопасный</li>
    </ul>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
    <ul>
        <li>правильно работает</li>
        <li>безопасный</li>
        <li>понятен</li>
    </ul>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
    <ul>
        <li>правильно работает</li>
        <li>безопасный</li>
        <li>понятен</li>
        <li>протестирован</li>
    </ul>
</section>
<section class="slide"><h2>Что такое хороший код?</h2>
    <ul>
        <li>правильно работает</li>
        <li>безопасный</li>
        <li>понятен</li>
        <li>протестирован</li>
        <li>соответствует общим стандартам</li>
    </ul>
</section>
<section class="slide"><h2>Общие стандарты</h2>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <p class="large centring" style="font-size: 9rem; text-align: center"><a href="https://pythonworld.ru/osnovy/pep-8-rukovodstvo-po-napisaniyu-koda-na-python.html">PEP8</a></p>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <ul>
        <li>табы или пробелы?</li>
    </ul>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <ul>
        <li>4 пробела</li>
    </ul>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <ul>
        <li>4 пробела</li>
        <li>Максимальная длина строки?</li>
    </ul>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <ul>
        <li>4 пробела</li>
        <li>Максимальная длина строки = 80 символов</li>
    </ul>
</section>
<section class="slide"><h2>Общие стандарты</h2>
    <ul>
        <li>4 пробела</li>
        <li>Максимальная длина строки = 80 символов</li>
    </ul>
</section>
<section class="slide"><h2>Пустые строки</h2>
    <ul>
        <li>две между top-level function</li>
        <li>одна между методами класса</li>
        <li>внутри функции можно отделять одной строкой логические блоки</li>
    </ul>
</section>
<section class="slide"><h2>Стиль именования</h2>
    <ul>
        <li><code>snake_case</code> - для переменных и функций</li>
        <li><code>CamelCase</code> - для классов</li>
        <li><code>UPPER_TEXT_WITH_UNDERSCORE</code> - для глобальных констант</li>
    </ul>
</section>
<section class="slide"><h2>Стиль наименования</h2>
    <ul>
        <li>название функции - глагол (что делает функция?)</li>
        <li>название переменных существительное</li>
        <li>название переменных аля списки, словари и прочее - множественное число</li>
    </ul>
</section>
<section class="slide"><h2>Все!</h2>
    <p><img src="./images/thatsall.jpg" style="width: 100%" alt="Вот и все"></p>
</section>

<div class="progress"></div>

<script src="html_renderer/shower/shower.min.js"></script>
<script src="html_renderer/highlight/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<!-- Copyright © 2017 Yours Truly, Famous Inc. -->

</body>
</html>
